#**********************************************************************************************************
# CRT Configuration
#**********************************************************************************************************

# ACPU PLL Setting 
#----------------------------------------------------------------------------------------------------------
w 0x98000110,0x00000005		# power on ACPU PLL
n 1000						# delay 10us
w 0x98000110,0x00000007		# release PLLACPU_RSTB
w 0x980005C0,0x0000000c		# release RSTB_ACPU
w 0x980005C4,0x00012ded		# 550MHz(Default)
w 0x980005C0,0x0000000d		# turn on OC_EN_ACPU

# DDSA PLL Setting 
#----------------------------------------------------------------------------------------------------------
w 0x98000128,0x00000005		# power on DDSA PLL
n 1000						# delay 10us
w 0x98000128,0x00000007		# release PLLDDSA_RSTB
w 0x98000560,0x0000000c		# release RSTB_DDSA
w 0x98000564,0x00006800		# 432MHz(Default)
w 0x98000560,0x0000000d		# turn on OC_EN_DDSA

# PSAUD1A/PSAUD2A PLL Setting 
#----------------------------------------------------------------------------------------------------------
w 0x98000130,0x000006bd		# 49.152MHz(Default) & enable PS_EN
w 0x98000134,0x0000000f		# release RSTB

# PSAUD1B/PSAUD2B PLL Setting 
#----------------------------------------------------------------------------------------------------------
w 0x98000188,0x000006bd		# 49.152MHz(Default) & enable PS_EN
w 0x9800018C,0x0000000f		# release RSTB

# PLL Output Enable Setting 
#----------------------------------------------------------------------------------------------------------
n 200000
w 0x98000110,0x00000003		# enable ACPU PLL OEB
w 0x98000128,0x00000003		# enable DDSA PLL OEB
w 0x98000134,0x00000005		# enable PSAUD1A/PSAUD2A PLL OEB
w 0x9800018C,0x00000005		# enable PSAUD1B/PSAUD2B PLL OEB

# Reset & Clock Enable Setting 
#----------------------------------------------------------------------------------------------------------
w 0xfffffff8,0x00000000		# for cold boot
w 0x9800000c,0x00fc8061		# enable CLOCK_ENABLE1
w 0x98000010,0x40000024		# enable CLOCK_ENABLE2
w 0x98000014,0x00000001		# enable GROUP_CK_EN
w 0x98000000,0xbd108001		# release SOFT_RESET1
w 0x98000004,0x00010a00		# release SOFT_RESET2
w 0x98000050,0x00008000		# release SOFT_RESET4
w 0x9800708c,0x00000100		# ISO Clock
w 0x98007088,0x00001980		# ISO Reset
w 0xfffffffc,0x00000000

w 0xfffffff0,0x00000000		# enable ae/acpu when resume
w 0x9800000c,0x00fc8061		# enable CLOCK_ENABLE1
w 0x98000010,0x40000034		# enable CLOCK_ENABLE2
w 0x98000014,0x00000001		# enable GROUP_CK_EN
w 0x98000000,0xbd108001		# release SOFT_RESET1
w 0x98000004,0x00010a00		# release SOFT_RESET2
w 0x98000050,0x00008000		# release SOFT_RESET4
w 0x9800708c,0x00001900		# ISO Clock
w 0x98007088,0x00001f80		# ISO Reset
w 0xfffffff4,0x00000000


#**********************************************************************************************************
# SB2 Configuration 
#**********************************************************************************************************
w 0x9801a808,0x00000013		# NOR flash access


#**********************************************************************************************************
# DC_SYS Configuration 
#**********************************************************************************************************
w 0x98008004,0x01c00f00
w 0x98008020,0x3a1fbb30
w 0x98008740,0x7fff0d88
w 0x980081f0,0x000f5314


#**********************************************************************************************************
# DPI_CRT Configuration
#**********************************************************************************************************

# PLL Initial Value Setting
#----------------------------------------------------------------------------------------------------------
w 0x98000050,0x00008001
w 0x9800e008,0xb0a80000		# internal ldo
w 0x9800e08c,0x00000009		# pll_ldo_rst_n = 1
w 0x9800e018,0x05505677

# DCC Setting
#----------------------------------------------------------------------------------------------------------
w 0x9800e030,0x13052833
w 0x9800e034,0x13052833
w 0x9800e038,0x13052833
w 0x9800e03c,0x13052833
w 0x9800e040,0x13052833
w 0x9800e044,0x13052833
w 0x9800e048,0x13052833
w 0x9800e04c,0x13052833
w 0x9800e050,0x13052833
w 0x9800e054,0x13052833
w 0x9800e058,0x13052833
w 0x9800e0a4,0x13052833

# PLL PI Setting
#----------------------------------------------------------------------------------------------------------
w 0x9800e010,0x0a000019		# ck0/cmd/dqs0/dqs1 PI sel
w 0x9800e014,0x0000001a		# ck1/cs PI sel
w 0x9800e098,0x00001006		# dq0/dq1 PI sel
w 0x9800e080,0x11111111
w 0x9800e084,0x00140012
w 0x9800e088,0x00002222
w 0x9800e094,0x00000000

# SSC NFCODE Fetch
#----------------------------------------------------------------------------------------------------------
w 0x9800e000,0x40000202		# DDR pin mux setting for DDR4
w 0x9800e024,0x00000000		# dpi_f_code
w 0x9800e028,0x00002424		# dpi_n_code
w 0x9800e08c,0x0000000b		# pll_ssc_dig_rst_n = 1
w 0x9800e08c,0x00000003		# ptr_rst_n = 0
w 0x9800e08c,0x0000000f		# rst_n = 1, ptr_rst_n = 1
w 0x9800e01c,0x00000008		# dpi_ssc_flag_init = 1

# Clock Turn-on Setting
#----------------------------------------------------------------------------------------------------------
w 0x9800e004,0x000003ff		# DPI internal clock enable
w 0x9800e008,0xb0a880a1		# oesync
w 0x9800e008,0xb0af80a1		# PLLDDR OE
w 0x9800e210,0x3fffffff		# PAD OE
w 0x9800e528,0x003fffff		# PAD OE EX for DDR4
w 0x9800e2fc,0xc0000080		# en_dcc = 1


#**********************************************************************************************************
# DPI_DLL Configuration
#**********************************************************************************************************
w 0x9800e4c0,0x000000ff
w 0x9800e4c4,0x000000ff
w 0x9800e4c8,0x000000ff
w 0x9800e4cc,0x000000ff
w 0x9800e52c,0x00000000
w 0x9800e530,0x00000000
w 0x9800e534,0x00000000
w 0x9800e538,0x00000000
w 0x9800e254,0x00000405		# tm_rd_fifo
w 0x9800e244,0x00000007		# dqs0_en
w 0x9800e248,0x00000007		# dqs1_en
w 0x9800e24c,0x00000007		# dqs2_en
w 0x9800e250,0x00000007		# dqs3_en
w 0x9800e6f0,0x00001056		# Vref_H for DDR4
w 0x9800e394,0x00000000
w 0x9800e28c,0x0a0a0a07
w 0x9800e2ac,0x0a0a0a07
w 0x9800e318,0x902ea006
w 0x9800e31c,0x0000000c
w 0x9800e318,0x902ea004


#**********************************************************************************************************
# RXI310 Configuration
#**********************************************************************************************************
w 0x9800ea24,0x00000063		# Enable DDR scramble
w 0x9800e804,0x00420224		# DDR4 DQ32
w 0x9800e808,0x00504210		# static CKE/ODT
w 0x9800e810,0x110fa0bb		# ZQCL_INV/REF_NUM/tREF/tRFC
w 0x9800e814,0x00929128		# tZQCS/TXP_EN/tCKE/tRTP/tWR/tRAS/tRP
w 0x9800e818,0x1078e043		# tFAW/tRTW/tWTR/tCCD/tRCD/tRRD_L/tRRD_S
w 0x9800e81c,0x0050c1c2		# tMRD
w 0x9800e820,0x00048000		# tWTR_S/tCCD_S
w 0x9800e830,0x00020126		# tDQSCK_MAX/ADD_LAT/RD_LAT/WR_LAT
w 0x9800e834,0x00000640		# MR0
w 0x9800e838,0x00000101		# MR1
w 0x9800e83c,0x00000010		# MR2
w 0x9800e840,0x00000200		# MR3
w 0x9800e844,0x00001800		# MR4
w 0x9800e848,0x00001400		# MR5
w 0x9800e84c,0x00000896		# MR6
w 0x9800eb00 0x00000000		# scheduler control
w 0x9800eb04 0x77000804
w 0x9800eb00 0x00000030
w 0x9800eb04 0x00000000
w 0x9800e80c,0x00000700
w 0x9800e800,0x00000100
w 0xfffffff8,0x00000000
w 0x98007f08,0x00000005		# turn on DDR IO pad
w 0xfffffffc,0x00000000
w 0xfffffff0,0x00000000
w 0x9800e800,0x80000000
w 0x98007f08,0x00000005		# turn on DDR IO pad
w 0xfffffff4,0x00000000


#**********************************************************************************************************
# ZQ Calibration
#**********************************************************************************************************
w 0x9800e3f8,0x00181818
w 0x9800e310,0x00181818
w 0x9800e544,0x00181818
w 0x9800e554,0x00181818
w 0x9800e07c,0x00008000
w 0x9800e300,0x1a0000f0

w 0x9800e21c,0x04008c19
w 0x9800e39c,0x04000620		# zq_vref_range_ini = 0, zq_vref_s_ini = 34
w 0x9800e318,0x902ea006
w 0x9800e31c,0x00000003
w 0x9800e318,0x902ea004
w 0x9800e21c,0x04018c19		# rzq_cal_en = 1
p 0x9800e388,0x00000001,0x00000001		# wait rzq_cal_done = 1
w 0x9800e21c,0x04008c19		# rzq_cal_en = 0

w 0x9800e21c,0x0c028c19		# dzq_auto_up = 1, dzq_up_sel = 0(set0)
w 0x9800e39c,0x04000560		# zq_vref_range_ini = 0, zq_vref_s_ini = 22
w 0x9800e318,0x902ea006
w 0x9800e31c,0x00000003
w 0x9800e318,0x902ea004
w 0x9800e6b0,0x0028003c		# ODT60/OCD40
w 0x9800e21c,0x0d028c19		# zctrl_start = 1
p 0x9800e220,0x80000000,0x80000000		# wait zctrl_status[31] = 1
w 0x9800e21c,0x0c028c19		# zctrl_start = 0

w 0x9800e21c,0x1c028c19		# dzq_auto_up = 1, dzq_up_sel = 1(set1)
w 0x9800e39c,0x04000560		# zq_vref_range_ini = 0, zq_vref_s_ini = 22
w 0x9800e318,0x902ea006
w 0x9800e31c,0x00000003
w 0x9800e318,0x902ea004
w 0x9800e6b0,0x0019003c		# ODT95/OCD40
w 0x9800e21c,0x1d028c19		# zctrl_start = 1
p 0x9800e220,0x80000000,0x80000000		# wait zctrl_status[31] = 1
w 0x9800e21c,0x1c028c19		# zctrl_start = 0

w 0x9800e21c,0x2c028c19		# dzq_auto_up = 1, dzq_up_sel = 2(set2)
w 0x9800e39c,0x04000560		# zq_vref_range_ini = 0, zq_vref_s_ini = 22
w 0x9800e318,0x902ea006
w 0x9800e31c,0x00000003
w 0x9800e318,0x902ea004
w 0x9800e6b0,0x000a003c		# ODT235/OCD40
w 0x9800e21c,0x2d028c19		# zctrl_start = 1
p 0x9800e220,0x80000000,0x80000000		# wait zctrl_status[31] = 1
w 0x9800e21c,0x2c028c19		# zctrl_start = 0

w 0x9800e384,0x20202020
w 0x9800e318,0x902ea006
w 0x9800e31c,0x0000000c
w 0x9800e318,0x902ea004

w 0x9800e264,0x77770000		# DQ[3:0] ODT
w 0x9800e2d8,0x77770000		# DQS+[3:0] ODT
w 0x9800e2dc,0x22221111		# DQS-[3:0] ODT


#**********************************************************************************************************
# Emphasis Mode Control
#**********************************************************************************************************
# 0
w 0x9800e680,0x00001e10
w 0x9800e680,0x00001e30
w 0x9800e680,0x00001e50
w 0x9800e680,0x00001e70
w 0x9800e680,0x00001e90
w 0x9800e680,0x00001eb0
w 0x9800e680,0x00001ed0
w 0x9800e680,0x00001ef0
w 0x9800e680,0x00001f10
w 0x9800e680,0x00001f30
w 0x9800e680,0x00001f50
w 0x9800e680,0x00001f70
w 0x9800e680,0x00001f71
w 0x9800e680,0x00044001

# 1
w 0x9800e684,0x00001e10
w 0x9800e684,0x00001e30
w 0x9800e684,0x00001e50
w 0x9800e684,0x00001e70
w 0x9800e684,0x00001e90
w 0x9800e684,0x00001eb0
w 0x9800e684,0x00001ed0
w 0x9800e684,0x00001ef0
w 0x9800e684,0x00001f10
w 0x9800e684,0x00001f30
w 0x9800e684,0x00001f50
w 0x9800e684,0x00001f70
w 0x9800e684,0x00001f71
w 0x9800e684,0x00044001

# 2
w 0x9800e688,0x00001e10
w 0x9800e688,0x00001e30
w 0x9800e688,0x00001e50
w 0x9800e688,0x00001e70
w 0x9800e688,0x00001e90
w 0x9800e688,0x00001eb0
w 0x9800e688,0x00001ed0
w 0x9800e688,0x00001ef0
w 0x9800e688,0x00001f10
w 0x9800e688,0x00001f30
w 0x9800e688,0x00001f50
w 0x9800e688,0x00001f70
w 0x9800e688,0x00001f71
w 0x9800e688,0x00044001

# 3
w 0x9800e68c,0x00001e10
w 0x9800e68c,0x00001e30
w 0x9800e68c,0x00001e50
w 0x9800e68c,0x00001e70
w 0x9800e68c,0x00001e90
w 0x9800e68c,0x00001eb0
w 0x9800e68c,0x00001ed0
w 0x9800e68c,0x00001ef0
w 0x9800e68c,0x00001f10
w 0x9800e68c,0x00001f30
w 0x9800e68c,0x00001f50
w 0x9800e68c,0x00001f70
w 0x9800e68c,0x00001f71
w 0x9800e68c,0x00044001

# 4
w 0x9800e690,0x00000010
w 0x9800e690,0x00000030
w 0x9800e690,0x00000050
w 0x9800e690,0x00000070
w 0x9800e690,0x00000090
w 0x9800e690,0x000000b0
w 0x9800e690,0x000000d0
w 0x9800e690,0x000000f0
w 0x9800e690,0x00000110
w 0x9800e690,0x00000130
w 0x9800e690,0x00000150
w 0x9800e690,0x00000170
w 0x9800e690,0x00000171
w 0x9800e690,0x00044001

# 5
w 0x9800e694,0x00000010
w 0x9800e694,0x00000030
w 0x9800e694,0x00000050
w 0x9800e694,0x00000070
w 0x9800e694,0x00000090
w 0x9800e694,0x000000b0
w 0x9800e694,0x000000d0
w 0x9800e694,0x000000f0
w 0x9800e694,0x00000110
w 0x9800e694,0x00000130
w 0x9800e694,0x00000150
w 0x9800e694,0x00000170
w 0x9800e694,0x00000171
w 0x9800e694,0x00044001

w 0x9800e318,0x902ea006
w 0x9800e31c,0x00000003
w 0x9800e318,0x902ea004


#**********************************************************************************************************
# RXI310 Control
#**********************************************************************************************************
w 0xfffffff8,0x00000000
w 0x9800e800,0x00000001
p 0x9800e800,0x00000001,0x00000001
w 0xfffffffc,0x00000000
w 0xfffffff0,0x00000000
w 0x9800e82c,0x60000003
w 0x9800e800,0x00000008
w 0x9800e82c,0x20000001
w 0x9800e800,0x00000008
w 0xfffffff4,0x00000000
w 0x9800e810,0x010fa0bb		# turn on auto refresh
w 0x9800e80c,0x00000600


#**********************************************************************************************************
# DPI Clock Gating
#**********************************************************************************************************

# DCC Setting
#----------------------------------------------------------------------------------------------------------
n 5000
w 0x9800e030,0x03052833
w 0x9800e034,0x03052833
w 0x9800e038,0x03052833
w 0x9800e03c,0x03052833
w 0x9800e040,0x03052833
w 0x9800e044,0x03052833
w 0x9800e048,0x03052833
w 0x9800e04c,0x03052833
w 0x9800e050,0x03052833
w 0x9800e0a4,0x03052833

# DPI Clock Gating Setting
#----------------------------------------------------------------------------------------------------------
w 0x9800e008,0xb0af80a1		# dpi_reg_pwroff_mode = 1
w 0x9800e008,0x90af80a1		# dpi_reg_crt_pwroff_dis = 0
w 0x9800e008,0x80af80a1		# dpi_reg_pwroff_fsm_dis = 0


#**********************************************************************************************************
# Disable Alpha Eye/MPC/DPI Register Interface
#**********************************************************************************************************
w 0x9800e0b0,0x000a0000		# DQ PAD O2 power down
w 0x9800e630,0x00000000
w 0x9800e07c,0x000080e0		# Disable alpha eye & MPC module


# nand pin mux
w 0x9804e010,0x00555555
m 0x9804e014,0xFFFFFFC0,0x00000000 
m 0x9804e014,0xFFFFFFFF,0x00000015
m 0x9804e018,0xFFFFF7FF,0x00000000
